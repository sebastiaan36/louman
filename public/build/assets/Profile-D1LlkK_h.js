import{d as w,f as E,u as s,B as $,w as r,E as N,o as v,aj as F,c as k,a as t,b as l,e as o,A as Q,h as I,F as S,g as q,p as H,S as W,q as K,U as O,j as L}from"./app-Di3RSdmm.js";import{q as x}from"./index-BsePJUay.js";import{a as B,_ as R}from"./Layout.vue_vue_type_script_setup_true_lang-DGx2NYDb.js";import{_ as u}from"./InputError.vue_vue_type_script_setup_true_lang-CrOVac9k.js";import{_ as h}from"./index-1LP7WDE3.js";import{a as U,b as J,c as z,d as G,_ as M}from"./DialogTitle.vue_vue_type_script_setup_true_lang-zo3iQN2W.js";import{w as X,A as Y,_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-49QvIm49.js";import{_ as ee}from"./DialogFooter.vue_vue_type_script_setup_true_lang-D9ispDPs.js";import{_ as te}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-DrLSPwto.js";import{_ as d}from"./Input.vue_vue_type_script_setup_true_lang-BhJnLtwg.js";import{_ as i}from"./Label.vue_vue_type_script_setup_true_lang-BLRKX_ny.js";import"./useForwardPropsEmits-BhcpKy4a.js";import"./index-BRBC5pXR.js";import"./VisuallyHidden-BKH4SjpI.js";import"./useForwardExpose-Bohi4aPY.js";import"./createLucideIcon-DVVQDtR3.js";const se=w({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const _=e;return(y,n)=>(v(),E(s(X),$({"data-slot":"dialog-close"},_),{default:r(()=>[N(y.$slots,"default")]),_:3},16))}}),m=e=>({url:m.url(e),method:"get"});m.definition={methods:["get","head"],url:"/settings/profile"};m.url=e=>m.definition.url+x(e);m.get=e=>({url:m.url(e),method:"get"});m.head=e=>({url:m.url(e),method:"head"});const P=e=>({action:m.url(e),method:"get"});P.get=e=>({action:m.url(e),method:"get"});P.head=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});m.form=P;const c=e=>({url:c.url(e),method:"patch"});c.definition={methods:["patch"],url:"/settings/profile"};c.url=e=>c.definition.url+x(e);c.patch=e=>({url:c.url(e),method:"patch"});const D=e=>({action:c.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});D.patch=e=>({action:c.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});c.form=D;const g=e=>({url:g.url(e),method:"delete"});g.definition={methods:["delete"],url:"/settings/profile"};g.url=e=>g.definition.url+x(e);g.delete=e=>({url:g.url(e),method:"delete"});const j=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});j.delete=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});g.form=j;const T={edit:m,update:c,destroy:g},ae={class:"space-y-6"},le={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},re={class:"grid gap-2"},oe=w({__name:"DeleteUser",setup(e){const _=F("passwordInput");return(y,n)=>(v(),k("div",ae,[t(B,{variant:"small",title:"Delete account",description:"Delete your account and all of its resources"}),l("div",le,[n[7]||(n[7]=l("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[l("p",{class:"font-medium"},"Warning"),l("p",{class:"text-sm"}," Please proceed with caution, this cannot be undone. ")],-1)),t(s(M),null,{default:r(()=>[t(s(te),{"as-child":""},{default:r(()=>[t(s(h),{variant:"destructive","data-test":"delete-user-button"},{default:r(()=>[...n[1]||(n[1]=[o("Delete account",-1)])]),_:1})]),_:1}),t(s(U),null,{default:r(()=>[t(s(Q),$(s(T).destroy.form(),{"reset-on-success":"",onError:n[0]||(n[0]=()=>_.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:r(({errors:p,processing:b,reset:C,clearErrors:a})=>[t(s(J),{class:"space-y-3"},{default:r(()=>[t(s(z),null,{default:r(()=>[...n[2]||(n[2]=[o("Are you sure you want to delete your account?",-1)])]),_:1}),t(s(G),null,{default:r(()=>[...n[3]||(n[3]=[o(" Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1)])]),_:1})]),_:1}),l("div",re,[t(s(i),{for:"password",class:"sr-only"},{default:r(()=>[...n[4]||(n[4]=[o("Password",-1)])]),_:1}),t(s(d),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:_,placeholder:"Password"},null,512),t(u,{message:p.password},null,8,["message"])]),t(s(ee),{class:"gap-2"},{default:r(()=>[t(s(se),{"as-child":""},{default:r(()=>[t(s(h),{variant:"secondary",onClick:()=>{a(),C()}},{default:r(()=>[...n[5]||(n[5]=[o(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:2},1024),t(s(h),{type:"submit",variant:"destructive",disabled:b,"data-test":"confirm-delete-user-button"},{default:r(()=>[...n[6]||(n[6]=[o(" Delete account ",-1)])]),_:1},8,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),ne={class:"flex flex-col space-y-6"},ue={class:"grid gap-2"},de={class:"grid gap-2"},ie={class:"border-t pt-6 mt-6"},me={class:"grid gap-4 sm:grid-cols-2"},fe={class:"grid gap-2"},ce={class:"grid gap-2"},ge={class:"grid gap-2"},_e={class:"grid gap-2"},pe={class:"grid gap-2"},ve={class:"border-t pt-6"},ye={class:"grid gap-4 sm:grid-cols-2"},be={class:"grid gap-2"},ke={class:"grid gap-2"},he={class:"grid gap-2"},qe={class:"grid gap-2"},we={class:"border-t pt-6"},$e={class:"grid gap-2"},xe={key:1},Pe={class:"-mt-4 text-sm text-muted-foreground"},Ce={key:0,class:"mt-2 text-sm font-medium text-green-600"},Ee={class:"flex items-center gap-4"},Qe={class:"text-sm text-neutral-600"},Je=w({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{},customer:{}},setup(e){const _=e,y=[{title:"Profielinstellingen",href:Y().url}],p=L().props.auth.user,b=p.role==="customer"&&_.customer;return(C,a)=>(v(),E(Z,{breadcrumbs:y},{default:r(()=>[t(s(I),{title:"Profielinstellingen"}),a[18]||(a[18]=l("h1",{class:"sr-only"},"Profielinstellingen",-1)),t(R,null,{default:r(()=>[l("div",ne,[t(B,{variant:"small",title:"Profielinformatie",description:s(b)?"Werk je profiel en bedrijfsgegevens bij":"Werk je naam en e-mailadres bij"},null,8,["description"]),t(s(Q),$(s(T).update.form(),{class:"space-y-6"}),{default:r(({errors:f,processing:A,recentlySuccessful:V})=>[l("div",ue,[t(s(i),{for:"name"},{default:r(()=>[...a[1]||(a[1]=[o("Naam",-1)])]),_:1}),t(s(d),{id:"name",class:"mt-1 block w-full",name:"name","default-value":s(p).name,required:"",autocomplete:"name",placeholder:"Volledige naam"},null,8,["default-value"]),t(u,{class:"mt-2",message:f.name},null,8,["message"])]),l("div",de,[t(s(i),{for:"email"},{default:r(()=>[...a[2]||(a[2]=[o("E-mailadres",-1)])]),_:1}),t(s(d),{id:"email",type:"email",class:"mt-1 block w-full",name:"email","default-value":s(p).email,required:"",autocomplete:"username",placeholder:"E-mailadres",readonly:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.email},null,8,["message"])]),s(b)&&e.customer?(v(),k(S,{key:0},[l("div",ie,[a[8]||(a[8]=l("h3",{class:"text-sm font-semibold mb-4"},"Bedrijfsgegevens",-1)),l("div",me,[l("div",fe,[t(s(i),{for:"company_name"},{default:r(()=>[...a[3]||(a[3]=[o("Bedrijfsnaam",-1)])]),_:1}),t(s(d),{id:"company_name",name:"company_name","default-value":e.customer.company_name,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.company_name},null,8,["message"])]),l("div",ce,[t(s(i),{for:"kvk_number"},{default:r(()=>[...a[4]||(a[4]=[o("KvK nummer",-1)])]),_:1}),t(s(d),{id:"kvk_number",name:"kvk_number","default-value":e.customer.kvk_number,required:"",readonly:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.kvk_number},null,8,["message"])]),l("div",ge,[t(s(i),{for:"vat_number"},{default:r(()=>[...a[5]||(a[5]=[o("BTW nummer",-1)])]),_:1}),t(s(d),{id:"vat_number",name:"vat_number","default-value":e.customer.vat_number,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.vat_number},null,8,["message"])]),l("div",_e,[t(s(i),{for:"contact_person"},{default:r(()=>[...a[6]||(a[6]=[o("Contactpersoon",-1)])]),_:1}),t(s(d),{id:"contact_person",name:"contact_person","default-value":e.customer.contact_person,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.contact_person},null,8,["message"])]),l("div",pe,[t(s(i),{for:"phone_number"},{default:r(()=>[...a[7]||(a[7]=[o("Telefoonnummer",-1)])]),_:1}),t(s(d),{id:"phone_number",name:"phone_number",type:"tel","default-value":e.customer.phone_number,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.phone_number},null,8,["message"])])])]),l("div",ve,[a[13]||(a[13]=l("h3",{class:"text-sm font-semibold mb-4"},"Adresgegevens",-1)),l("div",ye,[l("div",be,[t(s(i),{for:"street_name"},{default:r(()=>[...a[9]||(a[9]=[o("Straatnaam",-1)])]),_:1}),t(s(d),{id:"street_name",name:"street_name","default-value":e.customer.street_name,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.street_name},null,8,["message"])]),l("div",ke,[t(s(i),{for:"house_number"},{default:r(()=>[...a[10]||(a[10]=[o("Huisnummer",-1)])]),_:1}),t(s(d),{id:"house_number",name:"house_number","default-value":e.customer.house_number,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.house_number},null,8,["message"])]),l("div",he,[t(s(i),{for:"postal_code"},{default:r(()=>[...a[11]||(a[11]=[o("Postcode",-1)])]),_:1}),t(s(d),{id:"postal_code",name:"postal_code","default-value":e.customer.postal_code,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.postal_code},null,8,["message"])]),l("div",qe,[t(s(i),{for:"city"},{default:r(()=>[...a[12]||(a[12]=[o("Plaats",-1)])]),_:1}),t(s(d),{id:"city",name:"city","default-value":e.customer.city,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.city},null,8,["message"])])])]),l("div",we,[a[15]||(a[15]=l("h3",{class:"text-sm font-semibold mb-4"},"Bankgegevens",-1)),l("div",$e,[t(s(i),{for:"bank_account"},{default:r(()=>[...a[14]||(a[14]=[o("Rekeningnummer (IBAN)",-1)])]),_:1}),t(s(d),{id:"bank_account",name:"bank_account","default-value":e.customer.bank_account,required:""},null,8,["default-value"]),t(u,{class:"mt-2",message:f.bank_account},null,8,["message"])])])],64)):q("",!0),e.mustVerifyEmail&&!s(p).email_verified_at?(v(),k("div",xe,[l("p",Pe,[a[16]||(a[16]=o(" Je e-mailadres is niet geverifieerd. ",-1)),l("button",{type:"button",onClick:a[0]||(a[0]=Be=>s(H).post("/email/verification-notification")),class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500"}," Klik hier om de verificatie-e-mail opnieuw te versturen. ")]),e.status==="verification-link-sent"?(v(),k("div",Ce," Een nieuwe verificatielink is naar je e-mailadres gestuurd. ")):q("",!0)])):q("",!0),l("div",Ee,[t(s(h),{disabled:A,"data-test":"update-profile-button"},{default:r(()=>[...a[17]||(a[17]=[o("Opslaan",-1)])]),_:1},8,["disabled"]),t(W,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:r(()=>[K(l("p",Qe," Opgeslagen. ",512),[[O,V]])]),_:2},1024)])]),_:1},16)]),t(oe)]),_:1})]),_:1}))}});export{Je as default};
