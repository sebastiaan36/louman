import{d as z,m as C,x as F,c,a as s,u as t,h as D,w as l,b as n,e as a,o as d,f as g,g as v,t as i,l as b,F as x,r as N,p as k}from"./app-BWkMUOj0.js";import{F as h,d as P,S as L,_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dn78D6e6.js";import{d as T}from"./index-BsePJUay.js";import{_ as p}from"./index-CmRnEYDX.js";import{_ as U}from"./Input.vue_vue_type_script_setup_true_lang-BA5i60jP.js";import{_ as E}from"./Label.vue_vue_type_script_setup_true_lang-CaR3pB-o.js";import{_ as G,a as O,b as $,c as m,d as R,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-DnUgn-BT.js";import{S as A}from"./search-DSDeHU_-.js";import{D as I}from"./download-D9vw9RWv.js";import"./index-B2PbLsO6.js";import"./VisuallyHidden-W7F-o_9g.js";import"./useForwardExpose-dCgfLWKY.js";import"./useForwardPropsEmits-iTKbMAmZ.js";import"./createLucideIcon-CXo0_mfu.js";const J={class:"flex h-full flex-1 flex-col gap-6 p-6"},Q={class:"text-2xl font-bold flex items-center gap-2"},W={class:"rounded-lg border p-4"},Z={class:"grid gap-2 md:w-1/3"},q={class:"relative"},H={key:0,class:"rounded-lg border border-dashed p-12 text-center space-y-4"},K={class:"text-sm text-muted-foreground mt-2"},X={key:1,class:"rounded-lg border"},Y={class:"flex gap-2 justify-end"},ee=["href"],ve=z({__name:"Orders",props:{orders:{},filters:{}},setup(_){const o=C(_.filters.search||""),y=[{title:"Dashboard",href:T().url},{title:"Mijn Bestellingen"}],w=u=>new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(parseFloat(u)),S=u=>({pending:"secondary",confirmed:"default",completed:"default",cancelled:"destructive"})[u]||"secondary",B=u=>{k.post(`/customer/orders/${u}/reorder`,{},{preserveScroll:!0})},V=()=>{const u=new URLSearchParams;o.value&&u.set("search",o.value),k.get(`/customer/orders?${u.toString()}`,{},{preserveState:!0,preserveScroll:!0})};F(o,()=>V());const j=()=>{o.value=""};return(u,e)=>(d(),c(x,null,[s(t(D),{title:"Mijn Bestellingen"}),s(M,{breadcrumbs:y},{default:l(()=>[n("div",J,[n("div",null,[n("h1",Q,[s(t(h),{class:"h-6 w-6"}),e[1]||(e[1]=a(" Mijn Bestellingen ",-1))]),e[2]||(e[2]=n("p",{class:"text-sm text-muted-foreground"}," Bekijk je bestelgeschiedenis ",-1))]),n("div",W,[n("div",Z,[s(t(E),{for:"search"},{default:l(()=>[...e[3]||(e[3]=[a("Zoeken",-1)])]),_:1}),n("div",q,[s(t(A),{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s(t(U),{id:"search",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),placeholder:"Bestelnummer (bijv. #123)...",class:"pl-9"},null,8,["modelValue"])]),o.value?(d(),g(t(p),{key:0,variant:"outline",size:"sm",onClick:j,class:"w-fit"},{default:l(()=>[...e[4]||(e[4]=[a(" Wis zoekopdracht ",-1)])]),_:1})):v("",!0)])]),_.orders.length===0?(d(),c("div",H,[s(t(h),{class:"h-16 w-16 mx-auto text-muted-foreground"}),n("div",null,[e[5]||(e[5]=n("p",{class:"text-lg font-medium text-muted-foreground"},"Geen bestellingen",-1)),n("p",K,i(o.value?"Geen bestellingen gevonden met deze zoekopdracht":"Je hebt nog geen bestellingen geplaatst"),1)]),o.value?v("",!0):(d(),g(t(b),{key:0,href:"/customer/products"},{default:l(()=>[s(t(p),null,{default:l(()=>[...e[6]||(e[6]=[a(" Blader door producten ",-1)])]),_:1})]),_:1}))])):(d(),c("div",X,[s(t(G),null,{default:l(()=>[s(t(O),null,{default:l(()=>[s(t($),null,{default:l(()=>[s(t(m),null,{default:l(()=>[...e[7]||(e[7]=[a("Bestelnummer",-1)])]),_:1}),s(t(m),null,{default:l(()=>[...e[8]||(e[8]=[a("Datum",-1)])]),_:1}),s(t(m),null,{default:l(()=>[...e[9]||(e[9]=[a("Totaal",-1)])]),_:1}),s(t(m),null,{default:l(()=>[...e[10]||(e[10]=[a("Producten",-1)])]),_:1}),s(t(m),null,{default:l(()=>[...e[11]||(e[11]=[a("Status",-1)])]),_:1}),s(t(m),{class:"text-right"},{default:l(()=>[...e[12]||(e[12]=[a("Acties",-1)])]),_:1})]),_:1})]),_:1}),s(t(R),null,{default:l(()=>[(d(!0),c(x,null,N(_.orders,r=>(d(),g(t($),{key:r.id},{default:l(()=>[s(t(f),{class:"font-medium"},{default:l(()=>[a(i(r.order_number),1)]),_:2},1024),s(t(f),null,{default:l(()=>[a(i(r.created_at),1)]),_:2},1024),s(t(f),{class:"font-medium"},{default:l(()=>[a(i(w(r.total)),1)]),_:2},1024),s(t(f),null,{default:l(()=>[a(i(r.item_count)+" "+i(r.item_count===1?"product":"producten"),1)]),_:2},1024),s(t(f),null,{default:l(()=>[s(t(P),{variant:S(r.status)},{default:l(()=>[a(i(r.status_label),1)]),_:2},1032,["variant"])]),_:2},1024),s(t(f),{class:"text-right"},{default:l(()=>[n("div",Y,[s(t(b),{href:`/customer/orders/${r.id}`},{default:l(()=>[s(t(p),{size:"sm",variant:"outline"},{default:l(()=>[...e[13]||(e[13]=[a("Details",-1)])]),_:1})]),_:1},8,["href"]),n("a",{href:`/customer/orders/${r.id}/packing-slip`,target:"_blank"},[s(t(p),{size:"sm",variant:"outline"},{default:l(()=>[s(t(I),{class:"h-4 w-4 mr-1"}),e[14]||(e[14]=a(" Pakbon ",-1))]),_:1})],8,ee),s(t(p),{size:"sm",variant:"outline",onClick:se=>B(r.id)},{default:l(()=>[s(t(L),{class:"h-4 w-4 mr-1"}),e[15]||(e[15]=a(" Opnieuw bestellen ",-1))]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))])]),_:1})],64))}});export{ve as default};
