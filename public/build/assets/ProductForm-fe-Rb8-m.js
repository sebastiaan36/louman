import{d as A,m as y,c as x,a as t,u as l,h as R,w as o,b as a,t as v,k as W,e as n,o as _,F as U,r as I,f as M,g as j,i as O,p as B}from"./app-Di3RSdmm.js";import{_ as m}from"./InputError.vue_vue_type_script_setup_true_lang-CrOVac9k.js";import{_ as k}from"./index-1LP7WDE3.js";import{_ as T}from"./Checkbox.vue_vue_type_script_setup_true_lang-lzfxuqT8.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-BhJnLtwg.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-BLRKX_ny.js";import{_ as $,a as G,b as C,c as F,d as w}from"./SelectValue.vue_vue_type_script_setup_true_lang-BqTKe9tn.js";import{_ as h}from"./Textarea.vue_vue_type_script_setup_true_lang-9OSo_ESF.js";import{X as J,_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-49QvIm49.js";import{d as K}from"./index-BsePJUay.js";import"./useForwardPropsEmits-BhcpKy4a.js";import"./VisuallyHidden-BKH4SjpI.js";import"./useForwardExpose-Bohi4aPY.js";import"./useFormControl-CWyZg8VZ.js";import"./check-E3qLcZEM.js";import"./createLucideIcon-DVVQDtR3.js";import"./index-BRBC5pXR.js";const X={class:"flex h-full flex-1 flex-col gap-6 p-6"},Z={class:"text-2xl font-bold"},H={class:"text-sm text-muted-foreground"},Q={class:"rounded-lg border p-6 space-y-4"},Y={class:"grid gap-4 sm:grid-cols-2"},ee={class:"grid gap-2"},te={class:"grid gap-2"},se={class:"grid gap-2"},ae={class:"grid gap-2"},le={class:"rounded-lg border p-6 space-y-4"},re={class:"grid gap-4"},oe={class:"grid gap-2"},ie={key:0,class:"text-destructive"},ne={key:0,class:"relative w-48"},de=["src"],ue={class:"rounded-lg border p-6 space-y-4"},me={class:"grid gap-4 sm:grid-cols-2"},pe={class:"grid gap-2"},fe={class:"grid gap-2"},ge={class:"rounded-lg border p-6 space-y-4"},ce={class:"grid gap-2"},ve={class:"rounded-lg border p-6 space-y-4"},_e={class:"grid gap-4"},be={class:"grid gap-2"},Ve={class:"grid gap-2"},ye={class:"rounded-lg border p-6 space-y-4"},xe={class:"grid gap-4 sm:grid-cols-2"},ke={class:"grid gap-2"},we={class:"grid gap-2"},he={class:"grid gap-2"},Pe={class:"grid gap-2"},Ue={class:"grid gap-2"},je={class:"grid gap-2"},Be={class:"grid gap-2"},$e={class:"grid gap-2"},Ge={class:"rounded-lg border p-6 space-y-4"},Ce={class:"flex items-center space-x-2"},Fe={class:"flex gap-2"},Ze=A({__name:"ProductForm",props:{product:{},categories:{},errors:{}},setup(u){const d=u,g=O(()=>!!d.product),S=[{title:"Dashboard",href:K().url},{title:"Producten",href:"/admin/products"},{title:g.value?"Product bewerken":"Product toevoegen"}],s=y({category_id:d.product?.category_id?.toString()||"",title:d.product?.title||"",price:d.product?.price||"",description:d.product?.description||"",ingredients:d.product?.ingredients||"",allergens:d.product?.allergens||"",weight:d.product?.weight||"",article_number:d.product?.article_number||"",in_stock:d.product?.in_stock??!0,is_active:d.product?.is_active??!0,nutrition_facts:{energy:d.product?.nutrition_facts?.energy||"",fat:d.product?.nutrition_facts?.fat||"",saturated_fat:d.product?.nutrition_facts?.saturated_fat||"",carbohydrates:d.product?.nutrition_facts?.carbohydrates||"",sugars:d.product?.nutrition_facts?.sugars||"",protein:d.product?.nutrition_facts?.protein||"",salt:d.product?.nutrition_facts?.salt||"",fiber:d.product?.nutrition_facts?.fiber||""}}),b=y(null),c=y(d.product?.photo_url||null),V=y(!1),E=i=>{const r=i.target.files?.[0];if(r){b.value=r;const P=new FileReader;P.onload=D=>{c.value=D.target?.result},P.readAsDataURL(r)}},q=()=>{b.value=null,c.value=d.product?.photo_url||null;const i=document.getElementById("photo");i&&(i.value="")},z=()=>{V.value=!0;const i=new FormData;s.value.category_id&&i.append("category_id",s.value.category_id),i.append("title",s.value.title),i.append("price",s.value.price),i.append("description",s.value.description),i.append("ingredients",s.value.ingredients),i.append("allergens",s.value.allergens),s.value.weight&&i.append("weight",s.value.weight),i.append("article_number",s.value.article_number),i.append("in_stock",s.value.in_stock?"1":"0"),i.append("is_active",s.value.is_active?"1":"0"),s.value.nutrition_facts.energy&&i.append("nutrition_facts[energy]",s.value.nutrition_facts.energy),s.value.nutrition_facts.fat&&i.append("nutrition_facts[fat]",s.value.nutrition_facts.fat),s.value.nutrition_facts.saturated_fat&&i.append("nutrition_facts[saturated_fat]",s.value.nutrition_facts.saturated_fat),s.value.nutrition_facts.carbohydrates&&i.append("nutrition_facts[carbohydrates]",s.value.nutrition_facts.carbohydrates),s.value.nutrition_facts.sugars&&i.append("nutrition_facts[sugars]",s.value.nutrition_facts.sugars),s.value.nutrition_facts.protein&&i.append("nutrition_facts[protein]",s.value.nutrition_facts.protein),s.value.nutrition_facts.salt&&i.append("nutrition_facts[salt]",s.value.nutrition_facts.salt),s.value.nutrition_facts.fiber&&i.append("nutrition_facts[fiber]",s.value.nutrition_facts.fiber),b.value&&i.append("photo",b.value);const e=g.value?`/admin/products/${d.product?.id}`:"/admin/products";g.value&&i.append("_method","PUT"),B.post(e,i,{preserveScroll:!0,onFinish:()=>{V.value=!1}})},N=()=>{B.visit("/admin/products")};return(i,e)=>(_(),x(U,null,[t(l(R),{title:g.value?"Product bewerken":"Product toevoegen"},null,8,["title"]),t(L,{breadcrumbs:S},{default:o(()=>[a("div",X,[a("div",null,[a("h1",Z,v(g.value?"Product bewerken":"Product toevoegen"),1),a("p",H,v(g.value?"Wijzig de productgegevens":"Voeg een nieuw product toe aan de catalogus"),1)]),a("form",{onSubmit:W(z,["prevent"]),class:"max-w-3xl space-y-6"},[a("div",Q,[e[22]||(e[22]=a("h3",{class:"text-sm font-semibold"},"Basisinformatie",-1)),a("div",Y,[a("div",ee,[t(l(p),{for:"title"},{default:o(()=>[...e[18]||(e[18]=[n("Naam ",-1),a("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(l(f),{id:"title",modelValue:s.value.title,"onUpdate:modelValue":e[0]||(e[0]=r=>s.value.title=r),type:"text",required:"",placeholder:"Bijv. Rundergehakt"},null,8,["modelValue"]),t(m,{message:u.errors?.title},null,8,["message"])]),a("div",te,[t(l(p),{for:"category_id"},{default:o(()=>[...e[19]||(e[19]=[n("Categorie",-1)])]),_:1}),t(l($),{modelValue:s.value.category_id,"onUpdate:modelValue":e[1]||(e[1]=r=>s.value.category_id=r)},{default:o(()=>[t(l(G),null,{default:o(()=>[t(l(C),{placeholder:"Selecteer categorie (optioneel)"})]),_:1}),t(l(F),null,{default:o(()=>[(_(!0),x(U,null,I(u.categories,r=>(_(),M(l(w),{key:r.id,value:r.id.toString()},{default:o(()=>[n(v(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),t(m,{message:u.errors?.category_id},null,8,["message"])]),a("div",se,[t(l(p),{for:"article_number"},{default:o(()=>[...e[20]||(e[20]=[n("Artikelnummer ",-1),a("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(l(f),{id:"article_number",modelValue:s.value.article_number,"onUpdate:modelValue":e[2]||(e[2]=r=>s.value.article_number=r),type:"text",required:"",placeholder:"Bijv. RG-001"},null,8,["modelValue"]),t(m,{message:u.errors?.article_number},null,8,["message"])]),a("div",ae,[t(l(p),{for:"weight"},{default:o(()=>[...e[21]||(e[21]=[n("Gewicht",-1)])]),_:1}),t(l(f),{id:"weight",modelValue:s.value.weight,"onUpdate:modelValue":e[3]||(e[3]=r=>s.value.weight=r),type:"text",placeholder:"Bijv. 500g, 1kg"},null,8,["modelValue"]),t(m,{message:u.errors?.weight},null,8,["message"])])])]),a("div",le,[e[24]||(e[24]=a("h3",{class:"text-sm font-semibold"},"Productfoto",-1)),a("div",re,[a("div",oe,[t(l(p),{for:"photo"},{default:o(()=>[n(" Foto "+v(g.value?"":"(verplicht)")+" ",1),g.value?j("",!0):(_(),x("span",ie,"*"))]),_:1}),t(l(f),{id:"photo",type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:E,required:!g.value&&!c.value},null,8,["required"]),e[23]||(e[23]=a("p",{class:"text-xs text-muted-foreground"}," Toegestaan: JPEG, PNG, JPG, WEBP. Max 5MB. ",-1)),t(m,{message:u.errors?.photo},null,8,["message"])]),c.value?(_(),x("div",ne,[a("img",{src:c.value,alt:"Preview",class:"rounded-lg border object-cover w-48 h-48"},null,8,de),t(l(k),{type:"button",variant:"destructive",size:"sm",class:"absolute top-2 right-2",onClick:q},{default:o(()=>[t(l(J),{class:"h-4 w-4"})]),_:1})])):j("",!0)])]),a("div",ue,[e[29]||(e[29]=a("h3",{class:"text-sm font-semibold"},"Prijs en voorraad",-1)),a("div",me,[a("div",pe,[t(l(p),{for:"price"},{default:o(()=>[...e[25]||(e[25]=[n("Prijs (€) ",-1),a("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(l(f),{id:"price",modelValue:s.value.price,"onUpdate:modelValue":e[4]||(e[4]=r=>s.value.price=r),type:"number",step:"0.01",min:"0",required:"",placeholder:"0.00"},null,8,["modelValue"]),t(m,{message:u.errors?.price},null,8,["message"])]),a("div",fe,[t(l(p),{for:"in_stock"},{default:o(()=>[...e[26]||(e[26]=[n("Voorraad ",-1),a("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(l($),{modelValue:s.value.in_stock,"onUpdate:modelValue":e[5]||(e[5]=r=>s.value.in_stock=r)},{default:o(()=>[t(l(G),null,{default:o(()=>[t(l(C),{placeholder:"Selecteer voorraad status"})]),_:1}),t(l(F),null,{default:o(()=>[t(l(w),{value:!0},{default:o(()=>[...e[27]||(e[27]=[n("Op voorraad",-1)])]),_:1}),t(l(w),{value:!1},{default:o(()=>[...e[28]||(e[28]=[n("Uitverkocht",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(m,{message:u.errors?.in_stock},null,8,["message"])])])]),a("div",ge,[e[31]||(e[31]=a("h3",{class:"text-sm font-semibold"},"Beschrijving",-1)),a("div",ce,[t(l(p),{for:"description"},{default:o(()=>[...e[30]||(e[30]=[n("Omschrijving ",-1),a("span",{class:"text-destructive"},"*",-1)])]),_:1}),t(l(h),{id:"description",modelValue:s.value.description,"onUpdate:modelValue":e[6]||(e[6]=r=>s.value.description=r),required:"",placeholder:"Beschrijf het product...",rows:"5"},null,8,["modelValue"]),t(m,{message:u.errors?.description},null,8,["message"])])]),a("div",ve,[e[36]||(e[36]=a("h3",{class:"text-sm font-semibold"},"Ingrediënten en allergenen",-1)),a("div",_e,[a("div",be,[t(l(p),{for:"ingredients"},{default:o(()=>[...e[32]||(e[32]=[n("Ingrediënten",-1)])]),_:1}),t(l(h),{id:"ingredients",modelValue:s.value.ingredients,"onUpdate:modelValue":e[7]||(e[7]=r=>s.value.ingredients=r),placeholder:"Gescheiden door komma's, bijv: varkensvlees, zout, peper",rows:"3"},null,8,["modelValue"]),e[33]||(e[33]=a("p",{class:"text-xs text-muted-foreground"}," Gescheiden door komma's ",-1)),t(m,{message:u.errors?.ingredients},null,8,["message"])]),a("div",Ve,[t(l(p),{for:"allergens"},{default:o(()=>[...e[34]||(e[34]=[n("Allergenen",-1)])]),_:1}),t(l(h),{id:"allergens",modelValue:s.value.allergens,"onUpdate:modelValue":e[8]||(e[8]=r=>s.value.allergens=r),placeholder:"Gescheiden door komma's, bijv: melk, gluten, noten",rows:"3"},null,8,["modelValue"]),e[35]||(e[35]=a("p",{class:"text-xs text-muted-foreground"}," Gescheiden door komma's ",-1)),t(m,{message:u.errors?.allergens},null,8,["message"])])])]),a("div",ye,[e[45]||(e[45]=a("h3",{class:"text-sm font-semibold"},"Voedingswaarde",-1)),e[46]||(e[46]=a("p",{class:"text-xs text-muted-foreground"}," Voedingswaarde per 100 gram (optioneel) ",-1)),a("div",xe,[a("div",ke,[t(l(p),{for:"energy"},{default:o(()=>[...e[37]||(e[37]=[n("Energie (kcal)",-1)])]),_:1}),t(l(f),{id:"energy",modelValue:s.value.nutrition_facts.energy,"onUpdate:modelValue":e[9]||(e[9]=r=>s.value.nutrition_facts.energy=r),type:"number",step:"0.01",min:"0",placeholder:"0"},null,8,["modelValue"]),t(m,{message:u.errors?.["nutrition_facts.energy"]},null,8,["message"])]),a("div",we,[t(l(p),{for:"fat"},{default:o(()=>[...e[38]||(e[38]=[n("Vet (g)",-1)])]),_:1}),t(l(f),{id:"fat",modelValue:s.value.nutrition_facts.fat,"onUpdate:modelValue":e[10]||(e[10]=r=>s.value.nutrition_facts.fat=r),type:"number",step:"0.01",min:"0",placeholder:"0"},null,8,["modelValue"]),t(m,{message:u.errors?.["nutrition_facts.fat"]},null,8,["message"])]),a("div",he,[t(l(p),{for:"saturated_fat"},{default:o(()=>[...e[39]||(e[39]=[n("Waarvan verzadigd (g)",-1)])]),_:1}),t(l(f),{id:"saturated_fat",modelValue:s.value.nutrition_facts.saturated_fat,"onUpdate:modelValue":e[11]||(e[11]=r=>s.value.nutrition_facts.saturated_fat=r),type:"number",step:"0.01",min:"0",placeholder:"0"},null,8,["modelValue"]),t(m,{message:u.errors?.["nutrition_facts.saturated_fat"]},null,8,["message"])]),a("div",Pe,[t(l(p),{for:"carbohydrates"},{default:o(()=>[...e[40]||(e[40]=[n("Koolhydraten (g)",-1)])]),_:1}),t(l(f),{id:"carbohydrates",modelValue:s.value.nutrition_facts.carbohydrates,"onUpdate:modelValue":e[12]||(e[12]=r=>s.value.nutrition_facts.carbohydrates=r),type:"number",step:"0.01",min:"0",placeholder:"0"},null,8,["modelValue"]),t(m,{message:u.errors?.["nutrition_facts.carbohydrates"]},null,8,["message"])]),a("div",Ue,[t(l(p),{for:"sugars"},{default:o(()=>[...e[41]||(e[41]=[n("Waarvan suikers (g)",-1)])]),_:1}),t(l(f),{id:"sugars",modelValue:s.value.nutrition_facts.sugars,"onUpdate:modelValue":e[13]||(e[13]=r=>s.value.nutrition_facts.sugars=r),type:"number",step:"0.01",min:"0",placeholder:"0"},null,8,["modelValue"]),t(m,{message:u.errors?.["nutrition_facts.sugars"]},null,8,["message"])]),a("div",je,[t(l(p),{for:"protein"},{default:o(()=>[...e[42]||(e[42]=[n("Eiwitten (g)",-1)])]),_:1}),t(l(f),{id:"protein",modelValue:s.value.nutrition_facts.protein,"onUpdate:modelValue":e[14]||(e[14]=r=>s.value.nutrition_facts.protein=r),type:"number",step:"0.01",min:"0",placeholder:"0"},null,8,["modelValue"]),t(m,{message:u.errors?.["nutrition_facts.protein"]},null,8,["message"])]),a("div",Be,[t(l(p),{for:"salt"},{default:o(()=>[...e[43]||(e[43]=[n("Zout (g)",-1)])]),_:1}),t(l(f),{id:"salt",modelValue:s.value.nutrition_facts.salt,"onUpdate:modelValue":e[15]||(e[15]=r=>s.value.nutrition_facts.salt=r),type:"number",step:"0.01",min:"0",placeholder:"0"},null,8,["modelValue"]),t(m,{message:u.errors?.["nutrition_facts.salt"]},null,8,["message"])]),a("div",$e,[t(l(p),{for:"fiber"},{default:o(()=>[...e[44]||(e[44]=[n("Vezel (g)",-1)])]),_:1}),t(l(f),{id:"fiber",modelValue:s.value.nutrition_facts.fiber,"onUpdate:modelValue":e[16]||(e[16]=r=>s.value.nutrition_facts.fiber=r),type:"number",step:"0.01",min:"0",placeholder:"0"},null,8,["modelValue"]),t(m,{message:u.errors?.["nutrition_facts.fiber"]},null,8,["message"])])])]),a("div",Ge,[e[48]||(e[48]=a("h3",{class:"text-sm font-semibold"},"Status",-1)),a("div",Ce,[t(l(T),{id:"is_active",checked:s.value.is_active,"onUpdate:checked":e[17]||(e[17]=r=>s.value.is_active=r)},null,8,["checked"]),t(l(p),{for:"is_active",class:"cursor-pointer"},{default:o(()=>[...e[47]||(e[47]=[n(" Product is actief (zichtbaar voor klanten) ",-1)])]),_:1})]),t(m,{message:u.errors?.is_active},null,8,["message"])]),a("div",Fe,[t(l(k),{type:"submit",disabled:V.value},{default:o(()=>[n(v(g.value?"Opslaan":"Product toevoegen"),1)]),_:1},8,["disabled"]),t(l(k),{type:"button",variant:"outline",onClick:N,disabled:V.value},{default:o(()=>[...e[49]||(e[49]=[n(" Annuleren ",-1)])]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Ze as default};
