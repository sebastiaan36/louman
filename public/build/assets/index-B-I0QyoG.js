import{a as Z,u as ye}from"./useForwardPropsEmits-n8muDEO2.js";import{c as J}from"./index-bhJhBn6c.js";import{d as O,V as Se,D as oe,E as se,x as le,M as we,X as xe,c as G,f as re,u as y,g as ie,b as N,C as Q,z as q,n as Pe,N as _e,F as ke,W as ae,i as I,Y as V,Z as Be,_ as Ce,m as L,o as W,w as Ee,A as Te,B as Ae,e as Me,t as De}from"./app-Bf4La2Zj.js";import{b as Re,d as Fe,c as Ve,e as M,r as K}from"./index-C2lc8lfc.js";import{q as Ie}from"./index-BsePJUay.js";const We=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,$e=O({props:{fallback:{type:String,required:!0}},setup(n){return()=>Ce("noscript",{innerHTML:`<style>${n.fallback}</style>`})}}),ue=Symbol("vue-otp-context");function Oe(n){return[setTimeout(n,0),setTimeout(n,10),setTimeout(n,50)]}const He=18,ce=40,je=`${ce}px`,ze=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Le({containerRef:n,inputRef:p,pushPasswordManagerStrategy:u,isFocused:a}){const i=L({done:!1,refocused:!1}),s=L(!1),h=L(!1),c=L(!1),P=I(()=>u==="none"?!1:(u==="increase-width"||u==="experimental-no-flickering")&&s.value&&h.value),b=()=>{const l=n.value,v=p.value;if(!l||!v||c.value||u==="none")return;const _=l,k=_.getBoundingClientRect().left+_.offsetWidth,w=_.getBoundingClientRect().top+_.offsetHeight/2,B=k-He,$=w;if(!(document.querySelectorAll(ze).length===0&&document.elementFromPoint(B,$)===l)&&(s.value=!0,c.value=!0,!i.value.refocused&&document.activeElement===v)){const D=[v.selectionStart,v.selectionEnd];v.blur(),v.focus(),v.setSelectionRange(D[0],D[1]),i.value.refocused=!0}},d=()=>{const l=n.value;!l||u==="none"||(h.value=window.innerWidth-l.getBoundingClientRect().right>=ce)};let m;return oe(()=>{d(),m=setInterval(d,1e3)}),se(()=>{clearInterval(m)}),le([a,p],(l,v,_)=>{const[k,w]=l,B=k||document.activeElement===w;if(u==="none"||!B)return;const $=setTimeout(b,0),D=setTimeout(b,2e3),X=setTimeout(b,5e3),U=setTimeout(()=>{c.value=!0},6e3);_(()=>{clearTimeout($),clearTimeout(D),clearTimeout(X),clearTimeout(U)})}),{hasPWMBadge:s,willPushPWMBadge:P,PWM_BADGE_SPACE_WIDTH:je}}const Ne={style:{position:"absolute",inset:"0","pointer-events":"none"}},Ge=["value","data-input-otp-placeholder-shown","data-input-otp-mss","data-input-otp-mse","aria-placeholder","pattern"],qe=O({name:"OTPInput",inheritAttrs:!1,__name:"OTPInput",props:ae({maxlength:{},textAlign:{default:"left"},inputmode:{default:"numeric"},containerClass:{},pushPasswordManagerStrategy:{default:"increase-width"},noScriptCssFallback:{default:We},defaultValue:{default:""},pasteTransformer:{},accept:{},alt:{},autocomplete:{default:"one-time-code"},autofocus:{type:Boolean},capture:{type:[Boolean,String]},checked:{type:[Boolean,Array,Set]},crossorigin:{},disabled:{type:Boolean},enterKeyHint:{},form:{},formaction:{},formenctype:{},formmethod:{},formnovalidate:{type:Boolean},formtarget:{},height:{},indeterminate:{type:Boolean},list:{},max:{},min:{},minlength:{},multiple:{type:Boolean},name:{},pattern:{},placeholder:{},readonly:{type:Boolean},required:{type:Boolean},size:{},src:{},step:{},type:{},value:{},width:{}},{modelValue:{default(n){return n.defaultValue}},modelModifiers:{}}),emits:ae(["complete","change","select","input","focus","blur","mouseover","mouseleave","paste"],["update:modelValue"]),setup(n,{expose:p,emit:u}){const a=n,i=u,[s]=Se(n,"modelValue"),h=Re(s),c=I(()=>a.pattern?typeof a.pattern=="string"?new RegExp(a.pattern):a.pattern:null),P=V(!1),b=V(!1),d=V(null),m=V(null),l=V(null),v=V(null),_=Fe?.CSS?.supports?.("-webkit-touch-callout","none");let k={prev:[l.value?.selectionStart,l.value?.selectionEnd,l.value?.selectionDirection]};function w(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}oe(()=>{const t=l.value,e=v.value;if(!t||!e)return;k.prev=[t.selectionStart,t.selectionEnd,t.selectionDirection??"none"];const o=Ve(M,"selectionchange",f,{capture:!0});function f(){if(!t)return;if(M?.activeElement!==t){d.value=null,m.value=null;return}const r=t.selectionStart,x=t.selectionEnd,H=t.selectionDirection,j=t.maxLength,z=t.value,R=k.prev;let E=-1,T=-1,F;if(z.length!==0&&r!==null&&x!==null){const ge=r===x,he=r===z.length&&z.length<j;if(ge&&!he){const A=r;if(A===0)E=0,T=1,F="forward";else if(A===j)E=A-1,T=A,F="backward";else if(j>1&&z.length>1){let Y=0;if(R[0]!==null&&R[1]!==null){F=A<R[1]?"backward":"forward";const be=R[0]===R[1]&&R[0]<j;F==="backward"&&!be&&(Y=-1)}E=Y+A,T=Y+A+1}}E!==-1&&T!==-1&&E!==T&&t.setSelectionRange(E,T,F)}const te=E!==-1?E:r,ne=T!==-1?T:x,fe=F??H;d.value=te,m.value=ne,k.prev=[te,ne,fe]}if(f(),M?.activeElement===t&&(b.value=!0),!M?.getElementById("input-otp-style")){const r=M?.createElement("style");if(r.id="input-otp-style",M?.head.appendChild(r),r.sheet){const x="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";w(r.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),w(r.sheet,`[data-input-otp]:autofill { ${x} }`),w(r.sheet,`[data-input-otp]:-webkit-autofill { ${x} }`),w(r.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),w(r.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}const g=()=>{e&&e.style.setProperty("--root-height",`${t.clientHeight}px`)};g();const C=new ResizeObserver(g);C.observe(t),se(()=>{o(),C.disconnect()})}),le([s],()=>{Oe(()=>{if(!l.value)return;l.value?.dispatchEvent(new Event("input"));const t=l.value?.selectionStart,e=l.value?.selectionEnd,o=l.value?.selectionDirection;t!==null&&e!==null&&(d.value=t??null,m.value=e??null,k.prev=[t,e,o])})},{immediate:!0}),we(()=>{h.value!==void 0&&s.value!==h.value&&h.value.length<a.maxlength&&s.value.length===a.maxlength&&i("complete",s.value)});const B=Le({containerRef:v,inputRef:l,pushPasswordManagerStrategy:a.pushPasswordManagerStrategy,isFocused:b});function $(t){if(t.inputType==="insertText"&&t.data!==null){const e=t.currentTarget,o=e.selectionStart??0,f=e.selectionEnd??0,g=e.value,C=(o!==f?g.slice(0,o)+t.data+g.slice(f):g.slice(0,o)+t.data+g.slice(o)).slice(0,a.maxlength);C.length>0&&c.value&&!c.value.test(C)&&t.preventDefault()}}function D(t){const e=t.currentTarget.value.slice(0,a.maxlength);if(e.length>0&&c.value&&!c.value.test(e)){t.preventDefault();return}typeof h.value=="string"&&e.length<h.value.length&&M?.dispatchEvent(new Event("selectionchange")),s.value=e,i("input",e)}function X(){const t=l.value;if(t){const e=Math.min(t.value.length,a.maxlength-1),o=t.value.length;t.setSelectionRange(e,o),d.value=e,m.value=o}b.value=!0}function U(t){const e=l.value;if(!e||!a.pasteTransformer&&(!_||!t.clipboardData||!e))return;const o=t?.clipboardData?.getData("text/plain"),f=a?.pasteTransformer?a.pasteTransformer(o):o;t.preventDefault();const g=l.value?.selectionStart,C=l.value?.selectionEnd,r=(g!==C?s.value.slice(0,g)+f+s.value.slice(C):s.value.slice(0,g)+f+s.value.slice(g)).slice(0,a.maxlength);if(r.length>0&&c.value&&!c.value.test(r))return;s.value=r,i("input",r);const x=Math.min(r.length,a.maxlength-1),H=r.length;e?.setSelectionRange(x,H),d.value=x,m.value=H}const de=Z(K(a,"containerClass","value","pattern","defaultValue","pushPasswordManagerStrategy","noScriptCssFallback","modelValue")),me=I(()=>({position:"relative",cursor:a.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"})),ve=I(()=>({position:"absolute",inset:0,width:B.willPushPWMBadge.value?`calc(100% + ${B.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:B.willPushPWMBadge.value?`inset(0 ${B.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a.textAlign,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"})),ee=I(()=>({slots:Array.from({length:Number(a.maxlength)}).map((t,e)=>{const o=b.value&&d.value!==null&&m.value!==null&&(d.value===m.value&&e===d.value||e>=d.value&&e<m.value),f=s.value[e]!==void 0?s.value[e]:null;return{char:f,placeholderChar:f??a?.placeholder?.[e]??null,isActive:o,hasFakeCaret:o&&f===null}}),isFocused:b.value,isHovering:!a.disabled&&P.value}));return xe(ue,ee),p(Object.defineProperty({},"$el",{enumerable:!0,configurable:!0,get:()=>l})),(t,e)=>(W(),G(ke,null,[n.noScriptCssFallback!==null?(W(),re(y($e),{key:0,fallback:n.noScriptCssFallback},null,8,["fallback"])):ie("v-if",!0),N("div",{ref_key:"containerRef",ref:v,"data-input-otp-container":"",style:_e(me.value),class:Pe(n.containerClass)},[Q(t.$slots,"default",{slots:ee.value.slots,isFocused:b.value,isHovering:!n.disabled&&P.value}),N("div",Ne,[N("input",q({ref_key:"inputRef",ref:l,value:y(s),"data-input-otp":"","data-input-otp-placeholder-shown":y(s).length===0||void 0,"data-input-otp-mss":d.value,"data-input-otp-mse":m.value,"aria-placeholder":n.placeholder,style:ve.value,pattern:c.value?.source},{...t.$attrs,...y(de)},{onBeforeinput:$,onMouseover:e[0]||(e[0]=o=>{P.value=!0,i("mouseover",o)}),onMouseleave:e[1]||(e[1]=o=>{P.value=!1,i("mouseleave",o)}),onPaste:e[2]||(e[2]=o=>{U(o),i("paste",o)}),onInput:D,onFocus:e[3]||(e[3]=o=>{X(),i("focus",o)}),onBlur:e[4]||(e[4]=o=>{b.value=!1,i("blur",o)})}),null,16,Ge)])],6)],64))}});var Ke=qe;function Xe(){return Be(ue)}const nt=O({__name:"InputOTP",props:{maxlength:{},textAlign:{},inputmode:{},containerClass:{},pushPasswordManagerStrategy:{},noScriptCssFallback:{},defaultValue:{},pasteTransformer:{type:Function},accept:{},alt:{},autocomplete:{},autofocus:{type:Boolean},capture:{type:[Boolean,String]},checked:{type:[Boolean,Array,Set]},crossorigin:{},disabled:{type:Boolean},enterKeyHint:{},form:{},formaction:{},formenctype:{},formmethod:{},formnovalidate:{type:Boolean},formtarget:{},height:{},indeterminate:{type:Boolean},list:{},max:{},min:{},minlength:{},multiple:{type:Boolean},name:{},pattern:{},placeholder:{},readonly:{type:Boolean},required:{type:Boolean},size:{},src:{},step:{},type:{},value:{},width:{},class:{}},emits:["complete","change","select","input","focus","blur","mouseover","mouseleave","paste"],setup(n,{emit:p}){const u=n,a=p,i=K(u,"class"),s=ye(i,a);return(h,c)=>(W(),re(y(Ke),q(y(s),{"container-class":y(J)("flex items-center gap-2 has-disabled:opacity-50",u.class),"data-slot":"input-otp",class:"disabled:cursor-not-allowed"}),{default:Ee(P=>[Q(h.$slots,"default",Te(Ae(P)))]),_:3},16,["container-class"]))}}),at=O({__name:"InputOTPGroup",props:{class:{}},setup(n){const p=n,u=K(p,"class"),a=Z(u);return(i,s)=>(W(),G("div",q({"data-slot":"input-otp-group"},y(a),{class:y(J)("flex items-center",p.class)}),[Q(i.$slots,"default")],16))}}),Ue=["data-active"],Ye={key:0,class:"pointer-events-none absolute inset-0 flex items-center justify-center"},ot=O({__name:"InputOTPSlot",props:{index:{},class:{}},setup(n){const p=n,u=K(p,"class"),a=Z(u),i=Xe(),s=I(()=>i?.value.slots[p.index]);return(h,c)=>(W(),G("div",q(y(a),{"data-slot":"input-otp-slot","data-active":s.value?.isActive,class:y(J)("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",p.class)}),[Me(De(s.value?.char)+" ",1),s.value?.hasFakeCaret?(W(),G("div",Ye,[...c[0]||(c[0]=[N("div",{class:"animate-caret-blink bg-foreground h-4 w-px duration-1000"},null,-1)])])):ie("",!0)],16,Ue))}}),S=n=>({url:S.url(n),method:"post"});S.definition={methods:["post"],url:"/two-factor-challenge"};S.url=n=>S.definition.url+Ie(n);S.post=n=>({url:S.url(n),method:"post"});const pe=n=>({action:S.url(n),method:"post"});pe.post=n=>({action:S.url(n),method:"post"});S.form=pe;const st={store:Object.assign(S,S)};export{nt as _,at as a,ot as b,st as l,S as s};
