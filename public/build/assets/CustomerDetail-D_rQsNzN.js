import{d as G,c as f,a as s,u as e,h as H,w as a,b as l,e as o,t as d,o as u,f as K,g as V,F as z,r as I,n as O,l as W,q as g,v as p,m as B,p as R}from"./app-CafA-tJO.js";import{F as j,c as N,P as Z,a as J,_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-dHai9bEz.js";import{d as X}from"./index-BsePJUay.js";import{_ as b,a as k}from"./CardContent.vue_vue_type_script_setup_true_lang-ChoFPLMy.js";import{_ as w}from"./CardDescription.vue_vue_type_script_setup_true_lang-DT_HBWnQ.js";import{_ as h}from"./CardHeader.vue_vue_type_script_setup_true_lang-DnFH5CWN.js";import{_ as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-CATvtoG_.js";import{_ as Y,a as tt,b as et,c as st,d as lt}from"./DialogTitle.vue_vue_type_script_setup_true_lang-aQ9L78bE.js";import{_ as at}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CLg45xUP.js";import{_ as P}from"./index-VQlf4-eG.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-b6Ha2aR_.js";import{_ as ot,a as nt,b as S,c as v,d as dt,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-CAQesCix.js";import{c as C}from"./createLucideIcon-DXsVylua.js";import{M as U}from"./map-pin-CoA8Ed9y.js";import"./index-DZKzivWv.js";import"./VisuallyHidden-DNACVG1q.js";import"./useForwardExpose-BX97XBRD.js";import"./useForwardPropsEmits-B_Z0FW7m.js";const D=C("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const rt=C("CreditCardIcon",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const ut=C("MailIcon",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const it=C("PhoneIcon",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const mt=C("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ft={class:"flex h-full flex-1 flex-col gap-6 p-6"},ct={class:"text-2xl font-bold flex items-center gap-2"},gt={class:"text-sm text-muted-foreground"},pt={class:"grid gap-6 md:grid-cols-2"},vt={class:"flex items-start gap-3"},_t={class:"text-sm text-muted-foreground"},xt={class:"flex items-start gap-3"},yt={class:"text-sm text-muted-foreground"},bt={class:"flex items-start gap-3"},kt={class:"text-sm text-muted-foreground"},wt={class:"flex items-center justify-between"},ht={class:"flex items-start gap-3"},$t={class:"text-sm text-muted-foreground"},Ct={class:"flex items-start gap-3"},At={class:"text-sm text-muted-foreground"},Mt={class:"flex items-start gap-3"},Vt={class:"text-sm text-muted-foreground"},Bt={key:0,class:"flex items-start gap-3"},Kt={class:"text-sm text-muted-foreground"},zt={key:1,class:"flex items-start gap-3"},jt={class:"text-sm text-muted-foreground"},Pt={class:"flex items-start gap-3"},Dt={class:"text-sm text-muted-foreground"},It={key:0,class:"text-sm text-muted-foreground"},Nt={key:1,class:"space-y-3"},St={class:"flex-1"},Ut={class:"flex items-center gap-2"},qt={class:"text-sm font-medium"},Tt={class:"text-sm text-muted-foreground"},Ft={key:0,class:"text-center py-8 text-muted-foreground"},Lt={key:1,class:"rounded-lg border"},Et={class:"py-4 space-y-6"},Gt={class:"space-y-2"},Ht={class:"flex items-center space-x-2"},Ot={class:"flex items-center space-x-2"},Wt={class:"flex items-center space-x-2"},Rt={class:"space-y-2"},Zt={class:"flex items-center space-x-2"},Jt={class:"flex items-center space-x-2"},Qt={class:"flex items-center space-x-2"},Xt={class:"flex items-center space-x-2"},_e=G({__name:"CustomerDetail",props:{customer:{},deliveryAddresses:{},orders:{}},setup(r){const A=r,q=[{title:"Dashboard",href:X().url},{title:"Klanten",href:"/admin/customers"},{title:A.customer.company_name}],T=y=>({pending:"bg-yellow-500",confirmed:"bg-blue-500",completed:"bg-green-500",cancelled:"bg-red-500"})[y]||"bg-gray-500",F=y=>({pending:"In afwachting",confirmed:"Bevestigd",completed:"Voltooid",cancelled:"Geannuleerd"})[y]||y,x=B(!1),m=B(""),i=B(""),M=B(!1),L=()=>{m.value=A.customer.customer_category||"",i.value=A.customer.discount_percentage||"",x.value=!0},E=()=>{!m.value||!i.value||(M.value=!0,R.patch(`/admin/customers/${A.customer.id}/category-discount`,{customer_category:m.value,discount_percentage:i.value},{preserveScroll:!0,onFinish:()=>{M.value=!1,x.value=!1}}))};return(y,t)=>(u(),f(z,null,[s(e(H),{title:`Klant: ${r.customer.company_name}`},null,8,["title"]),s(Q,{breadcrumbs:q},{default:a(()=>[l("div",ft,[l("div",null,[l("h1",ct,[s(e(D),{class:"h-6 w-6"}),o(" "+d(r.customer.company_name),1)]),l("p",gt," Klant sinds "+d(r.customer.created_at),1)]),l("div",pt,[s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[s(e($),null,{default:a(()=>[...t[9]||(t[9]=[o("Contactgegevens",-1)])]),_:1}),s(e(w),null,{default:a(()=>[...t[10]||(t[10]=[o("Primaire contact informatie",-1)])]),_:1})]),_:1}),s(e(k),{class:"space-y-4"},{default:a(()=>[l("div",vt,[s(e(D),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[11]||(t[11]=l("p",{class:"text-sm font-medium"},"Contactpersoon",-1)),l("p",_t,d(r.customer.contact_person),1)])]),l("div",xt,[s(e(ut),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[12]||(t[12]=l("p",{class:"text-sm font-medium"},"Email",-1)),l("p",yt,d(r.customer.email),1)])]),l("div",bt,[s(e(it),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[13]||(t[13]=l("p",{class:"text-sm font-medium"},"Telefoon",-1)),l("p",kt,d(r.customer.phone_number),1)])])]),_:1})]),_:1}),s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[l("div",wt,[l("div",null,[s(e($),null,{default:a(()=>[...t[14]||(t[14]=[o("Bedrijfsgegevens",-1)])]),_:1}),s(e(w),null,{default:a(()=>[...t[15]||(t[15]=[o("KVK en BTW informatie",-1)])]),_:1})]),r.customer.approved_at?(u(),K(e(P),{key:0,size:"sm",variant:"outline",onClick:L},{default:a(()=>[s(e(mt),{class:"h-4 w-4 mr-2"}),o(" "+d(r.customer.customer_category?"Aanpassen":"Instellen"),1)]),_:1})):V("",!0)])]),_:1}),s(e(k),{class:"space-y-4"},{default:a(()=>[l("div",ht,[s(e(j),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[16]||(t[16]=l("p",{class:"text-sm font-medium"},"KVK Nummer",-1)),l("p",$t,d(r.customer.kvk_number),1)])]),l("div",Ct,[s(e(j),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[17]||(t[17]=l("p",{class:"text-sm font-medium"},"BTW Nummer",-1)),l("p",At,d(r.customer.vat_number),1)])]),l("div",Mt,[s(e(rt),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[18]||(t[18]=l("p",{class:"text-sm font-medium"},"IBAN",-1)),l("p",Vt,d(r.customer.bank_account),1)])]),r.customer.customer_category_label?(u(),f("div",Bt,[s(e(D),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[19]||(t[19]=l("p",{class:"text-sm font-medium"},"Klantcategorie",-1)),l("p",Kt,d(r.customer.customer_category_label),1)])])):V("",!0),r.customer.discount_percentage?(u(),f("div",zt,[s(e(j),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[20]||(t[20]=l("p",{class:"text-sm font-medium"},"Kortingspercentage",-1)),l("p",jt,d(r.customer.discount_percentage)+"%",1)])])):V("",!0)]),_:1})]),_:1}),s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[s(e($),null,{default:a(()=>[...t[21]||(t[21]=[o("Adresgegevens",-1)])]),_:1}),s(e(w),null,{default:a(()=>[...t[22]||(t[22]=[o("Primair bedrijfsadres",-1)])]),_:1})]),_:1}),s(e(k),null,{default:a(()=>[l("div",Pt,[s(e(U),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",null,[t[24]||(t[24]=l("p",{class:"text-sm font-medium"},"Adres",-1)),l("p",Dt,[o(d(r.customer.street_name)+" "+d(r.customer.house_number),1),t[23]||(t[23]=l("br",null,null,-1)),o(" "+d(r.customer.postal_code)+" "+d(r.customer.city),1)])])])]),_:1})]),_:1}),s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[s(e($),null,{default:a(()=>[...t[25]||(t[25]=[o("Afleveradressen",-1)])]),_:1}),s(e(w),null,{default:a(()=>[o(d(r.deliveryAddresses.length)+" geregistreerd(e) adres(sen)",1)]),_:1})]),_:1}),s(e(k),null,{default:a(()=>[r.deliveryAddresses.length===0?(u(),f("div",It," Geen afleveradressen ")):(u(),f("div",Nt,[(u(!0),f(z,null,I(r.deliveryAddresses,n=>(u(),f("div",{key:n.id,class:"flex items-start gap-3 pb-3 border-b last:border-b-0 last:pb-0"},[s(e(U),{class:"h-4 w-4 text-muted-foreground mt-0.5"}),l("div",St,[l("div",Ut,[l("p",qt,d(n.name),1),n.is_default?(u(),K(e(N),{key:0,variant:"secondary",class:"text-xs"},{default:a(()=>[...t[26]||(t[26]=[o(" Standaard ",-1)])]),_:1})):V("",!0)]),l("p",Tt,[o(d(n.street)+" "+d(n.house_number),1),t[27]||(t[27]=l("br",null,null,-1)),o(" "+d(n.postal_code)+" "+d(n.city),1)])])]))),128))]))]),_:1})]),_:1})]),s(e(b),null,{default:a(()=>[s(e(h),null,{default:a(()=>[s(e($),{class:"flex items-center gap-2"},{default:a(()=>[s(e(Z),{class:"h-5 w-5"}),t[28]||(t[28]=o(" Bestelgeschiedenis ",-1))]),_:1}),s(e(w),null,{default:a(()=>[...t[29]||(t[29]=[o("Alle bestellingen van deze klant",-1)])]),_:1})]),_:1}),s(e(k),null,{default:a(()=>[r.orders.length===0?(u(),f("div",Ft," Nog geen bestellingen geplaatst ")):(u(),f("div",Lt,[s(e(ot),null,{default:a(()=>[s(e(nt),null,{default:a(()=>[s(e(S),null,{default:a(()=>[s(e(v),null,{default:a(()=>[...t[30]||(t[30]=[o("Order #",-1)])]),_:1}),s(e(v),null,{default:a(()=>[...t[31]||(t[31]=[o("Datum",-1)])]),_:1}),s(e(v),null,{default:a(()=>[...t[32]||(t[32]=[o("Aantal Producten",-1)])]),_:1}),s(e(v),null,{default:a(()=>[...t[33]||(t[33]=[o("Totaal",-1)])]),_:1}),s(e(v),null,{default:a(()=>[...t[34]||(t[34]=[o("Status",-1)])]),_:1}),s(e(v))]),_:1})]),_:1}),s(e(dt),null,{default:a(()=>[(u(!0),f(z,null,I(r.orders,n=>(u(),K(e(S),{key:n.id},{default:a(()=>[s(e(_),{class:"font-medium"},{default:a(()=>[o("#"+d(n.id),1)]),_:2},1024),s(e(_),null,{default:a(()=>[o(d(n.created_at),1)]),_:2},1024),s(e(_),null,{default:a(()=>[o(d(n.items_count),1)]),_:2},1024),s(e(_),null,{default:a(()=>[o("â‚¬"+d(n.total),1)]),_:2},1024),s(e(_),null,{default:a(()=>[s(e(N),{class:O(T(n.status))},{default:a(()=>[o(d(F(n.status)),1)]),_:2},1032,["class"])]),_:2},1024),s(e(_),{class:"text-right"},{default:a(()=>[s(e(W),{href:e(J).orders.show(n.id).url,class:"text-sm text-primary hover:underline"},{default:a(()=>[...t[35]||(t[35]=[o(" Bekijk details ",-1)])]),_:1},8,["href"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})]),s(e(Y),{open:x.value,"onUpdate:open":t[8]||(t[8]=n=>x.value=n)},{default:a(()=>[s(e(tt),null,{default:a(()=>[s(e(et),null,{default:a(()=>[s(e(st),null,{default:a(()=>[...t[36]||(t[36]=[o("Klantcategorie & Korting Aanpassen",-1)])]),_:1}),s(e(lt),null,{default:a(()=>[...t[37]||(t[37]=[o(" Wijzig de klantcategorie en kortingspercentage. ",-1)])]),_:1})]),_:1}),l("div",Et,[l("div",null,[s(e(c),{class:"mb-3 block"},{default:a(()=>[...t[38]||(t[38]=[o("Klantcategorie *",-1)])]),_:1}),l("div",Gt,[l("div",Ht,[g(l("input",{type:"radio",id:"edit_groothandel",value:"groothandel","onUpdate:modelValue":t[0]||(t[0]=n=>m.value=n),class:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"},null,512),[[p,m.value]]),s(e(c),{for:"edit_groothandel",class:"cursor-pointer font-normal"},{default:a(()=>[...t[39]||(t[39]=[o(" Groothandel ",-1)])]),_:1})]),l("div",Ot,[g(l("input",{type:"radio",id:"edit_broodjeszaak",value:"broodjeszaak","onUpdate:modelValue":t[1]||(t[1]=n=>m.value=n),class:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"},null,512),[[p,m.value]]),s(e(c),{for:"edit_broodjeszaak",class:"cursor-pointer font-normal"},{default:a(()=>[...t[40]||(t[40]=[o(" Broodjeszaak ",-1)])]),_:1})]),l("div",Wt,[g(l("input",{type:"radio",id:"edit_horeca",value:"horeca","onUpdate:modelValue":t[2]||(t[2]=n=>m.value=n),class:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"},null,512),[[p,m.value]]),s(e(c),{for:"edit_horeca",class:"cursor-pointer font-normal"},{default:a(()=>[...t[41]||(t[41]=[o(" Horeca ",-1)])]),_:1})])])]),l("div",null,[s(e(c),{class:"mb-3 block"},{default:a(()=>[...t[42]||(t[42]=[o("Kortingspercentage *",-1)])]),_:1}),l("div",Rt,[l("div",Zt,[g(l("input",{type:"radio",id:"edit_discount_0",value:"0","onUpdate:modelValue":t[3]||(t[3]=n=>i.value=n),class:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"},null,512),[[p,i.value]]),s(e(c),{for:"edit_discount_0",class:"cursor-pointer font-normal"},{default:a(()=>[...t[43]||(t[43]=[o(" 0% (geen korting) ",-1)])]),_:1})]),l("div",Jt,[g(l("input",{type:"radio",id:"edit_discount_2_5",value:"2.5","onUpdate:modelValue":t[4]||(t[4]=n=>i.value=n),class:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"},null,512),[[p,i.value]]),s(e(c),{for:"edit_discount_2_5",class:"cursor-pointer font-normal"},{default:a(()=>[...t[44]||(t[44]=[o(" 2,5% ",-1)])]),_:1})]),l("div",Qt,[g(l("input",{type:"radio",id:"edit_discount_3",value:"3","onUpdate:modelValue":t[5]||(t[5]=n=>i.value=n),class:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"},null,512),[[p,i.value]]),s(e(c),{for:"edit_discount_3",class:"cursor-pointer font-normal"},{default:a(()=>[...t[45]||(t[45]=[o(" 3% ",-1)])]),_:1})]),l("div",Xt,[g(l("input",{type:"radio",id:"edit_discount_5",value:"5","onUpdate:modelValue":t[6]||(t[6]=n=>i.value=n),class:"h-4 w-4 border-gray-300 text-primary focus:ring-primary"},null,512),[[p,i.value]]),s(e(c),{for:"edit_discount_5",class:"cursor-pointer font-normal"},{default:a(()=>[...t[46]||(t[46]=[o(" 5% ",-1)])]),_:1})])])])]),s(e(at),null,{default:a(()=>[s(e(P),{variant:"outline",onClick:t[7]||(t[7]=n=>x.value=!1),disabled:M.value},{default:a(()=>[...t[47]||(t[47]=[o(" Annuleren ",-1)])]),_:1},8,["disabled"]),s(e(P),{onClick:E,disabled:!m.value||!i.value||M.value},{default:a(()=>[...t[48]||(t[48]=[o(" Opslaan ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{_e as default};
